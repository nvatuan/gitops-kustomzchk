## ğŸ›¡ï¸ Policy Evaluation

| **Overlay Key** | **Success** | **Omitted** | **Failed (Blocking ğŸš«, Warning âš ï¸, Recommend ğŸ’¡)** |
|-----------------|-------------|-------------|--------------------------------------------------|
{{range $key, $sum := .PolicyEvaluation.EnvironmentSummary}}| `{{ $key }}` | `{{ $sum.PolicyCounts.TotalSuccess }}`âœ… | `{{ $sum.PolicyCounts.TotalOmitted }}`â­ï¸ | `{{ $sum.PolicyCounts.TotalFailed }}`âŒ (`{{ $sum.PolicyCounts.BlockingFailedCount }}`ğŸš«, `{{ $sum.PolicyCounts.WarningFailedCount }}`âš ï¸, `{{ $sum.PolicyCounts.RecommendFailedCount }}`ğŸ’¡) |
{{ end }}

<details><summary>Policy Evaluation Details</summary>

{{range $key, $matrix := .PolicyEvaluation.PolicyMatrix}}
### Overlay: `{{ $key }}`

{{if $matrix.BlockingPolicies}}
#### ğŸš« Blocking Policies
{{range $policy := $matrix.BlockingPolicies}}
- {{if $policy.ExternalLink}}[{{$policy.PolicyName}}]({{$policy.ExternalLink}}){{else}}{{$policy.PolicyName}}{{end}}: {{if $policy.IsPassing}}âœ… PASS{{else}}âŒ FAIL{{end}}
{{if not $policy.IsPassing}}{{range $msg := $policy.FailMessages}}  - {{$msg}}
{{end}}{{end}}{{end}}
{{end}}

{{if $matrix.WarningPolicies}}
#### âš ï¸ Warning Policies
{{range $policy := $matrix.WarningPolicies}}
- {{if $policy.ExternalLink}}[{{$policy.PolicyName}}]({{$policy.ExternalLink}}){{else}}{{$policy.PolicyName}}{{end}}: {{if $policy.IsPassing}}âœ… PASS{{else}}âŒ FAIL{{end}}
{{if not $policy.IsPassing}}{{range $msg := $policy.FailMessages}}  - {{$msg}}
{{end}}{{end}}{{end}}
{{end}}

{{if $matrix.RecommendPolicies}}
#### ğŸ’¡ Recommend Policies
{{range $policy := $matrix.RecommendPolicies}}
- {{if $policy.ExternalLink}}[{{$policy.PolicyName}}]({{$policy.ExternalLink}}){{else}}{{$policy.PolicyName}}{{end}}: {{if $policy.IsPassing}}âœ… PASS{{else}}âŒ FAIL{{end}}
{{if not $policy.IsPassing}}{{range $msg := $policy.FailMessages}}  - {{$msg}}
{{end}}{{end}}{{end}}
{{end}}

{{if $matrix.OverriddenPolicies}}
#### â­ï¸ Overridden Policies
{{range $policy := $matrix.OverriddenPolicies}}
- {{if $policy.ExternalLink}}[{{$policy.PolicyName}}]({{$policy.ExternalLink}}){{else}}{{$policy.PolicyName}}{{end}}: {{if $policy.IsPassing}}âœ… PASS{{else}}âŒ FAIL{{end}}
{{end}}
{{end}}

{{if $matrix.NotInEffectPolicies}}
#### â­ï¸ Not In Effect Policies
{{range $policy := $matrix.NotInEffectPolicies}}
- {{if $policy.ExternalLink}}[{{$policy.PolicyName}}]({{$policy.ExternalLink}}){{else}}{{$policy.PolicyName}}{{end}}: {{if $policy.IsPassing}}âœ… PASS{{else}}âŒ FAIL{{end}}
{{end}}
{{end}}

{{end}}

</details>
